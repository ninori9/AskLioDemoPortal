<div class="container-80">
  <header class="page-header">
    <h1 class="page-title">Requests Overview</h1>
    <p class="page-subtitle">
      View and manage procurement submissions. Track status (Open, In&nbsp;Progress, Closed) and keep a full audit trail of changes.
    </p>

    <a class="new-request-link" routerLink="/requestor">
      <mat-icon>add_circle</mat-icon>
      Create a new procurement request
    </a>
  </header>
  
  <!-- Filter chips -->
  <app-filter-chips
      [options]="statusOptions"
      [selected]="statusSelected"
      [allowDeselect]="true"
      (selectionChange)="onStatusChange($event)">
  </app-filter-chips>

  <div style="height: 12px;"></div>

  <!-- Skeleton while loading -->
  <app-skeleton-table
    *ngIf="loading"
    [columns]="columns"
    [rows]="rows.length > 0 ? rows.length : 12">
  </app-skeleton-table>

  <!-- AskLio generic table once data is ready -->
  <app-asklio-table
    *ngIf="!loading"
    [isMainTable]="true"
    [pageHeading]="'Requests Overview'"
    [columns]="columns"
    [dataSource]="rows"
    [parentComponent]="this"
    [trackBy]="trackById">
  </app-asklio-table>
  </div>